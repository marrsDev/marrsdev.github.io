<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aluminium Windows Cost Calculator | Cost of aluminium windows in Kenya | Top 5 Benefits of Aluminium Windows </title>
    <link rel="stylesheet" href="css/styles-2.css">
    <link rel="stylesheet" href="css/gallery-css.css">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">


  <meta name="description" content="Aluminium windows quotation tool that uses current glass prices in Kenya. Get instant quotes for high quality aluminium windows tailored to your needs.">


</head>

<body>

    <noscript>
        <style>
            /* Remove display: none from #app so frontend is visible */
            .js-alert {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(82, 87, 84, 1); /* Semi-transparent white */
                border: 2px solid #ccc;
                padding: 20px;
                border-radius: 5px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                text-align: center;
                font-family: Arial, sans-serif;
                backdrop-filter: blur(5px); /* Frosted glass effect */
                z-index: 10000; /* Ensure it's on top */
            }

            .js-alert h3 {
                color: #ff6b6b;
                margin-bottom: 15px;
                font-size: 24px;
            }
            .js-alert p {
                margin: 10px 0;
                color: white;
                line-height: 1.4;
            }
            /* Optional: slightly dim the background content */
            .js-alert-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.1); /* Very subtle overlay */
                z-index: 9999;
            }
        </style>
        <!-- Subtle overlay -->
        <div class="js-alert-overlay"></div>
        <!-- Alert popup -->
        <div class="js-alert">
            <h3>‚ö†Ô∏èJavaScript is Disabled</h3>
            <p>This app requires JavaScript.</p>
            <p>Please enable JavaScript and refresh.</p>
        </div>
    </noscript>

    <!-- Add this wrapper right after <body> -->
    <div id="app">

    <div id="touchnav-wrapper">



    <header class="main-header">
        <div class="container">
            <nav class="main-navigation">
            <!-- Hamburger Menu Icon -->
            <div class="hamburger-menu" onclick="toggleMenu()">‚ò∞</div>
            <!-- Menu Items -->
            <ul class="menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="aluminium-sliding-windows.html">Sliding Windows</a></li>
                    <li><a href="top-hung-windows.html">Top Hung Windows</a></li>
                    <li><a href="aluminium-doors.html">Aluminium Doors</a></li>
                    <li><a href="curtain-walling-facades.html">Curtain Walling Facades</a></li>
                    <li><a href="office-partitions.html">Office Partitions</a></li>
                    <li><a href="glass-types.html">Glass Types</a></li>
                </ul>
            </nav>
        </div>
    </header>

<section class="hero">
    <div class="container">
        <!-- Top row: Logo and Box -->
        <div class="hero-top-row">
            <!-- Logo on the left -->
            <div class="site-headline">
                <a href="/"><img class="site-logo" src="img/Capital builders logo.png" alt="Capital Builders Logo"></a>
            </div>

            <!-- Box on the right -->
            <div class="hero-right-box">
                <a href="/page1" class="menu-link">Page 1</a>
                <a href="/page2" class="menu-link">Page 2</a>
                <a href="/page3" class="menu-link">Page 3</a>
            </div>
        </div>

<!-- Hero content below -->
<div class="hero-content">
    <div class="content-box">
        
<!-- Left Section -->
<div class="left-section">
    <div class="measurements-field">
        <h4>>> Enter your window's measurements</h4>
        <ul>
            <li>
                <label>Height (mm):*</label>
                <input id="heightId" type="number">
            </li>
            <li>
                <label>Width (mm):*</label>
                <input id="widthId" type="number">
            </li>
        </ul>
    </div>
    <div class="properties-field">
        <h4>>>> Configure properties</h4>
        <ul>
            <li class="profileColour">
                <label>Profile colour:</label>
                <select id="profileColour">
                    <option value="white">White</option>
                    <option value="black">Black</option>
                    <option value="silver">Silver</option>
                    <option value="brown">Brown</option>
                    <option value="champagne">Champagne</option>
                    <option value="grey">Grey</option>
                </select>
            </li>
            <li class="noOfPanels">
                <label>Number of panels:</label>
                <select id="noOfPanels">
                    <option value="2">2 panels</option>
                    <option value="3">3 panels</option>
                    <option value="4">4 panels</option>
                </select>
            </li>
            <li class="fixedPartition">
                <label>With/Without Fixed partition:</label>
                <select id="fixedPartition">
                    <option value="noPartition">No Fixed Partition</option>
                    <option value="doubleFixed">Top & Bottom</option>
                    <option value="fixedTop">Fixed Top</option>
                    <option value="fixedBottom">Fixed Bottom</option>
                    <option value="openAbleTopFxBtm">Openable Top 1</option>
                    <option value="openAbleTop">Openable Top 2</option>
                </select>
            </li>
            <li class="glassType">
                <label>Select Glass Type:</label>
                <select id="glassType">
                    <option value="clear">clear</option>
                    <option value="oneWay">oneWay</option>
                    <option value="tinted">tinted</option>
                    <option value="obscured">obscured</option>
                    <option value="nashiji">Nashiji</option>
                </select>
            </li>
            <li class="glassThickness">
                <label>Glass thickness:</label>
                <select id="glassThickness">
                    <option value="4mm">4mm</option>
                    <option value="5mm">5mm</option>
                    <option value="6mm">6mm</option>
                    <option value="8mm">8mm</option>
                    <option value="3+3mmLam">3+3mm Laminated</option>
                    <option value="4+4mmLam">4+4mm Laminated</option>
                    <option value="5+5mmLam">5+5mm Laminated</option>
                    <option value="6mmTuff">6mm Toughened</option>
                    <option value="8mmTuff">8mm Toughened</option>
                    <option value="10mmTuff">10mm Toughened</option>
                </select>
            </li>
            <li>
            <div class="calculateCost">
                <button class="startButton">Calculate Cost</button>
                <input type="text" id="cost" readonly> <!-- Add `readonly` if the input is not editable -->
            </div>                
            </li>
            <li>
                <button id="add-to-cart">Add to Cart</button>
                <button id="export-quote">Export Quote</button>
            </li>

        </ul>
    </div>
</div>

    <!-- Right Section -->
    <div class="right-section">
        <div class="previewArea">
            <img src="img/previewLabels/type-1.png" id="img-type" width="300px" height="300px">
            <p>Window type: <span id="type-code">#default</span></p>
        </div>
    </div>
    </div>
</div>

    </div>
</section>

<section class="cart-preview">
                    <div id="cart-preview"></div>
</section>
        
        <section class="widgets-section">
                <div class="list-widgets">

                    <div class="gallery-widget">

                        <div class="gallery-widget-header-container"> 
                            <h1 class="widget-title"><span aria-hidden="true" class="icon-news"></span>Projects</h1>
                            <p class="give-me-more"><a href="#our-projects" title="More-photos">>>>More</a></p>
                        </div>
                            
<div class="gallery">
    <!-- Row 1 -->
    <div class="row">
        <div class="folder">
            <img src="img/aux-img/project1/project1_cover.jpeg" alt="Project 1" class="cover-photo">
        </div>
        <div class="folder">
            <img src="img/aux-img/project2/project2_cover.jpg" alt="Project 2" class="cover-photo">
        </div>
        <div class="folder">
            <img src="img/aux-img/project3/project3_cover.jpg" alt="Project 3" class="cover-photo">
        </div>
    </div>

        <!-- Row 2 -->
    <div class="row">
        <div class="folder">
            <img src="img/aux-img/project4/project4_cover.jpg" alt="Project 1" class="cover-photo">
        </div>
        <div class="folder">
            <img src="img/aux-img/project5/project5_cover.jpg" alt="Project 2" class="cover-photo">
        </div>
        <div class="folder">
            <img src="img/aux-img/project6/project6_cover.jpg" alt="Project 3" class="cover-photo">
        </div>
    </div>

        <!-- Row 3 -->

</div>

<!-- Folder content for Project 1 -->
<div class="folder-overlay" id="folder1">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project1/project1_1.jpg" alt="Project 1 Image 1">
        <img src="img/aux-img/project1/project1_2.jpg" alt="Project 1 Image 2">
        <img src="img/aux-img/project1/project1_3.jpg" alt="Project 1 Image 3">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
            
        </div>
    </div>
</div>

<!-- Folder content for Project 2 -->
<div class="folder-overlay" id="folder2">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project2/project2_1.jpg" alt="Project 2 Image 1">
        <img src="img/aux-img/project2/project2_2.jpg" alt="Project 2 Image 2">
        <img src="img/aux-img/project2/project2_3.jpg" alt="Project 2 Image 3">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>

        </div>
    </div>
</div>

<!-- Folder content for Project 3 -->
<div class="folder-overlay" id="folder3">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project3/project3_1.jpg" alt="Project 3 Image 1">
        <img src="img/aux-img/project3/project3_2.jpg" alt="Project 3 Image 2">
        <img src="img/aux-img/project3/project3_3.jpg" alt="Project 3 Image 3">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
            
        </div>
    </div>
</div>

<!-- Folder content for Project 4 -->
<div class="folder-overlay" id="folder3">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project4/project4_1.jpg" alt="Project 4 Image 1">
        <img src="img/aux-img/project4/project4_2.jpg" alt="Project 4 Image 2">
        <img src="img/aux-img/project4/project4_3.jpg" alt="Project 4 Image 3">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
            
        </div>
    </div>
</div>

<!-- Folder content for Project 5 -->
<div class="folder-overlay" id="folder3">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project5/project5_1.jpg" alt="Project 5 Image 1">
        <img src="img/aux-img/project5/project5_2.jpg" alt="Project 5 Image 2">
        <img src="img/aux-img/project5/project5_3.jpg" alt="Project 5 Image 3">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
            
        </div>
    </div>
</div>

<!-- Folder content for Project 6 -->
<div class="folder-overlay" id="folder3">
    <div class="folder-content">
            <button class="back-button">Back</button>
        <img src="img/aux-img/project6/project6_1.jpg" alt="Project 6 Image 1">
        <img src="img/aux-img/project6/project6_2.jpg" alt="Project 6 Image 2">
        <img src="img/aux-img/project6/project6_3.jpg" alt="Project 6 Image 3">
        <img src="img/aux-img/project6/project6_4.jpg" alt="Project 6 Image 4">
        <img src="img/aux-img/project6/project6_5.jpg" alt="Project 6 Image 5">
        <div class="nav-arrows">
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
            
        </div>
    </div>
</div>

                    </div>

                    <div class="userGuide-widget">
                        
                        
                            <h1 class="widget-title"><span aria-hidden="true" class="icon-calendar"></span>How to get the cost of aluminium windows in Kenya</h1>
                            
                            <ul class="user-guide-items">
                                
                                
                                
                                <li>
<span class="steps">Step 1</span> <h2>Enter the <a href="#widthId">width</a> and <a href="#heightId">height</a> of your aluminum window in millimeters</h2>
</li>
                                
                                
                                
                                <li>
<span class="steps">Step 2</span> <h2>Select your preferred aluminium <a href="#profileColour">colour</a></h2>
</li>
                                
                                
                                
                                <li>
<span class="steps">Step 3</span> <h2>Specify the number of panels for your sliding window <a href="#noOfPanels">here</a></h2>
</li>
                                
                                
                                
                                <li>
<span class="steps">Step 4</span> <h2>Choose whether the window should have a fixed aluminium <a href="#fixedPartition">partition</a></h2>
</li>
                                
                                
                                
                                <li>
<span class="steps">Step 5</span> <h2>Configure glass types: Thickness and type <a href="#glassType">in this drop-down box</a></h2>
</li>


                                <li>
<span class="steps">Step 6</span> <h2>Press <a href="#"> 'Calculate cost'</a>. The cost of your custom aluminium window in Kenya will be populated in the cost box </h2>
</li>

                                <li>
<span class="steps">Step 7</span> <h2>Add your item to <a href="#">'Cart'</a>. Your quotation for aluminium windows or doors should be available for download at the 'downloads' section</h2>
</li>
                                
                                
                            </ul>

                    </div>

                </div>

                <div class="blogs-widget">

                    <div class="blog1-widget">

                        <div class="blog1-widget-header-container"> 
                            <h1 class="widget-title"><span aria-hidden="true" class="icon-news"></span>Top 5 Benefits of Aluminium Windows for African Homes</h1>
                        </div>
                            
<div class="blog1">
    <ol class="aluminium-benefits">
        <li>
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>

            <h3>Durable & resilient</h3>
            <p>-Aluminium is an incredibly durable material and can withstand the harshest of weather without rust or corrosion damage, cracking or warping </p>
            <p>-Unlike UPVc which has heat restrictions and wood which gradually rots over time, Aluminium can withstand heat and moist conditions making it a great choice for longer term applications in construction. It thus comes as no surprise that many developers are choosing aluminium windows in nairobi</p>
        </li>
        <li>
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>

            <h3>Versatility in designs</h3>
            <p>Aluminium is a structurally rigid material, making it ideal for creating large window frames without compromising strength or durability.</p>
            <p>-This allows for the fabrication of expansive window designs, perfect for modern homes and commercial spaces. Whether you need floor-to-ceiling windows or oversized sliding panels, aluminium frames can be customized to any size while maintaining their integrity.</p>
        </li>
        <li>
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>

            <h3>Minimal Maintenance</h3>
            <p>-Aluminium windows require minimal maintenance, and almost never need re-painting</p>
            <p>-The powder-coated finishes applied to aluminium frames allows simple routine cleaning with soap and water to be all it takes for your windows to look as good as new for many many years.</p>
        </li>
        <li>
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>

            <h3>Energy efficiency and noise reduction</h3>
            <p>When paired with double glazed glass, Aluminium windows and doors are very effective in retaining interior heat and limiting exterior heat or cold. Thus, climate control efforts can be a lot more effective.</p>
            <p>Further, Aluminium windows with double glazed glass are extremely effective in sound proofing any space.</p>
        </li>
        <li>
            <div class="top-left"></div>
            <div class="top-right"></div>
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>
            
            <h3>Aesthetically pleasing</h3>
            <p>Windows made with Aluminium are not only functional but also aesthetically pleasing, offering a perfect blend of style and sophistication for any property in Kenya.</p>
            <p>With powder coating technology, aluminium frames can be customized in a wide range of finishes and textures, including matte, grit, and even realistic wood finishes. Whether you prefer a sleek design, contemporary look or a warm, natural appearance, aluminium windows can be tailored to suit your preferences.</p>
            <p>Be sure to contact us today for the best aluminium window solutions in Kenya!</p>
            <p></p>
        </li>
        
    </ol>
</div>



                    </div>
                    <div class="blog2-widget">
                        
                        <div class="blog1-widget-header-container"> 
                            <h1 class="widget-title"><span aria-hidden="true" class="icon-news"></span>Types of windows by operation</h1>
                        </div>                          
<div class="blog1">
    <ol class="types-of-windows">
        <li>
            <h2>Top Hung or Awning windows</h2>
            <p>Top hung windows are hinged at the top and open outward from the bottom, making them ideal for areas where space is limited. They are perfect for bathrooms, kitchens, or high-rise buildings, as their design prevents rainwater from entering while allowing fresh air to flow in.</p>
        </li>
        <li>
            <h2>Double Hung</h2>
            <p>They feature two movable sashes that slide vertically within the frame, allowing for flexible ventilation options. They open from the top or bottom, are easy to clean and provide great ventilation options. Double-hung windows however require regular maintenance</p>
        </li>
        <li>
            <h2>Sliding</h2>
            <p><a href="aluminium-sliding-windows.html">Sliding windows</a> are a popular choice for modern homes and offices in Kenya due to their space-saving design and ease of operation</p>
        </li>
        <li>
            <h2>Casement or Side Hung</h2>
            <p>Casement windows either swing left or right using a crank, similar to a door. They are perfect for capturing breezes and maximizing airflow, making them ideal for living rooms, bedrooms, and other frequently used spaces.</p>
        </li>
        <li>
            <h2>Fixed Windows or Picture windows</h2>
            <p>Although permanently fixed windows do not provide airflow, they provide great weather resistance and create unobstructed views of your landscape. Fixed windows are ideal for areas where ventilation is not a priority, such as hallways, staircases, or decorative features. They typically have no moving parts and are thus less expensive compared to other window options</p>
        </li>
        
    </ol>
</div>



                    </div>
            </div>

        <div class="widgets-2">

                    <div class="small-widget products-widget">
                        <h1 class="widget-title"><span aria-hidden="true" class="icon-get-started"></span>Products</h1>
<p>Our wide range of products include:.</p>
    <ul>
        <li><a href="">- Custom designed aluminium windows.</a></li>
        <li><a href="">- Awning and top hung aluminium windows.</a></li>
        <li><a href="">- Aluminium Swing doors and double doors</a></li>
        <li><a href="">- Aluminium curtain walling glass facades.</a></li>
        <li><a href="">- Balcony Railings</a></li>
        <li><a href="">- Shower cubicles</a></li>
        <li><a href="">- Custom designed gazebos</a></li>
        <li><a href="">- Custom designed glass pergollas</a></li>
    </ul>
                    </div>

                    <div class="small-widget about-widget">
                        <h1 class="widget-title"><span aria-hidden="true" class="icon-download"></span>About</h1>
<p>We're a leading aluminium windows fabrication company in Kenya, specializing in custom-designed, energy-efficient, and durable windows for homes and offices. Explore our wide range of modern window designs at competitive prices.</p>
<p>: <a href="#">You can count on our team to run a professional window installation in Nairobi, glass fixing or any glazing projects in Kenya.</a></p>
                    </div>

                    <div class="small-widget resources-widget">
                        <h1 class="widget-title"><span aria-hidden="true" class="icon-documentation"></span>Resources & Docs</h1>
<p>Technical Documentation for our range of aluminium series, along with specifications and guides.</p>
<p><a href="">docs.cb.co.ke</a></p>
                    </div>

                    <div class="small-widget glass-widget last">
                        <h1 class="widget-title"><span aria-hidden="true" class="icon-jobs"></span>Glass</h1>
<p>Our diverse range of architectural glass is sourced from well vetted and trusted manufactures to guarantee quality and excellence. Some popular <strong> glass types</strong> include:</p>
<p><a href="#">6mm clear</a></p>
                    </div>
            
        </div>

    </section>

    <div id="cookie-consent" class="cookie-consent">
      <div class="cookie-content">
        <p>üç™ This website uses cookies to save your quotation and perform calculations. Your data stays private and secure.</p>
        <div class="cookie-buttons">
          <button onclick="acceptCookies()" class="cookie-accept">Accept</button>
          <button onclick="rejectCookies()" class="cookie-reject">Reject</button>
        </div>
      </div>
    </div>


<footer class="main-footer">
    <div class="container">
        <!-- Copyright Section -->
        <div class="copyright-section">
            <p>&copy; <span id="copyright-year"></span> Capital Builders. All rights reserved.</p>
        </div>

        <!-- Social Media Links -->
        <div class="social-media-links">
            <a href="https://twitter.com/CapitalAllu" target="_blank" aria-label="Twitter">
                <img src="img/icons/fa-twitter.png" alt="Twitter">
            </a>
            <a href="https://tiktok.com/@capital.builders" target="_blank" aria-label="TikTok">
                <img src="img/icons/fa-tiktok.png" alt="TikTok">
            </a>
            <a href="https://instagram.com/capital.builders_" target="_blank" aria-label="Instagram">
                <img src="img/icons/fa-instagram.png" alt="Instagram">
            </a>
            <a href="https://api.whatsapp.com/send/?phone=254724275877&text&app_absent=0" target="_blank" aria-label="WhatsApp">
                <img src="img/icons/fa-whatsApp.png" alt="WhatsApp">
            </a>
            <a href="https://www.facebook.com/profile.php?id=100086908637188&mibextid=ZbWKwL" target="_blank" aria-label="Facebook">
                <img src="img/icons/fa-facebook.png" alt="Facebook">
            </a>
            <a href="https://t.me/CapitalHoldings" target="_blank" aria-label="Telegram">
                <img src="img/icons/fa-telegram.png" alt="Telegram">
            </a>
        </div>


    </div>

</footer>

<!-- JavaScript to update the copyright year dynamically -->
<script>
    document.getElementById('copyright-year').textContent = new Date().getFullYear();
</script>



</div><!-- end #touchnav-wrapper -->

</div> <!-- Close the Alpine container -->

    <!-- Heroku Backend Pre-warmer -->
    <div id="backend-status" style="display: none; position: fixed; top: 10px; right: 10px; background: #f39c12; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; z-index: 1000;">
        ‚ö° Calculator engine is offline...Should be back in a few days
    </div>

    <script>
        // Heroku Backend Configuration
        const HEROKU_BACKEND_URL = 'https://dynamicamazement-d1e43569e1df.herokuapp.com/';
        
        // For local development
        // const HEROKU_BACKEND_URL = 'http://localhost:3000';
        // console.log('Backend URL configured:', HEROKU_BACKEND_URL);
    </script>

<script src="/js/cartManager.js" defer></script>
<script src="/js/cookieConsent.js" defer></script>
<script src="/js/pinned-previews.js" defer></script>
<script src="/js/gallery-js.js" defer></script>
<script type="module" src="/js/app.js" defer></script>

    <script>
    setTimeout(function(){
        if(typeof window.acceptCookies == "undefined"){
            window.acceptCookies = function(){
                localStorage.setItem("cookieConsent","accepted");
                document.getElementById("cookie-consent").style.display="none";
            };
            window.rejectCookies = function(){
                localStorage.setItem("cookieConsent","rejected");
                document.getElementById("cookie-consent").style.display="none";
                document.cookie="cartId=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
            };
            if(!localStorage.getItem("cookieConsent")){
                document.getElementById("cookie-consent").style.display="block";
            }
        }
    }, 50);
    </script>


    <!-- Backend Pre-warmer Script -->
    <script>
        class HerokuBackendWarmer {
            constructor() {
                this.backendReady = false;
                this.warmUpAttempts = 0;
                this.maxAttempts = 12; // 2 minutes total
                this.init();
            }

            init() {
                this.showStatus();
                this.startAggressiveWarming();
                this.setupUserInteractionWarming();
            }

            showStatus() {
                const statusEl = document.getElementById('backend-status');
                statusEl.style.display = 'block';
                
                // Auto-hide after 2 minutes
                setTimeout(() => {
                    if (!this.backendReady) {
                        statusEl.style.display = 'none';
                    }
                }, 120000);
            }

            hideStatus() {
                const statusEl = document.getElementById('backend-status');
                statusEl.style.display = 'none';
                statusEl.style.background = '#27ae60';
                statusEl.innerHTML = '‚úÖ Calculator ready!';
                
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, 3000);
            }

            startAggressiveWarming() {
                // Immediate call
                this.pingBackend();
                
                // Call every 10 seconds for 2 minutes
                this.interval = setInterval(() => {
                    if (!this.backendReady && this.warmUpAttempts < this.maxAttempts) {
                        this.pingBackend();
                    } else {
                        clearInterval(this.interval);
                    }
                }, 10000);
            }

            setupUserInteractionWarming() {
                // Warm up on any user interaction
                const warmEvents = ['click', 'keydown', 'mousemove', 'scroll', 'touchstart'];
                
                warmEvents.forEach(eventType => {
                    document.addEventListener(eventType, () => {
                        if (!this.backendReady) {
                            this.pingBackend();
                        }
                    }, { once: false });
                });

                // Form field specific warming
                this.setupFormFieldWarming();
            }

            setupFormFieldWarming() {
                const formFields = [
                    'heightId', 'widthId', 'noOfPanels', 'fixedPartition',
                    'glassType', 'glassThickness', 'profileColour'
                ];

                formFields.forEach(fieldId => {
                    const element = document.getElementById(fieldId);
                    if (element) {
                        element.addEventListener('focus', () => this.pingBackend());
                        element.addEventListener('change', () => this.pingBackend());
                    }
                });
            }

            async pingBackend() {
                if (this.backendReady || this.warmUpAttempts >= this.maxAttempts) return;

                this.warmUpAttempts++;
                
                try {
                    const response = await fetch(`${HEROKU_BACKEND_URL}/api/health`, {
                        method: 'GET',
                        cache: 'no-cache',
                        mode: 'cors'
                    });
                    
                    if (response.ok) {
                        this.backendReady = true;
                        clearInterval(this.interval);
                        this.hideStatus();
                        console.log('‚úÖ Heroku backend ready after', this.warmUpAttempts, 'attempts');
                    }
                } catch (error) {
                    console.log(`üîÑ Backend warming attempt ${this.warmUpAttempts}/12...`);
                }
            }
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new HerokuBackendWarmer();
        });
    </script>

<script>
// Production-Optimized Network & Blocker Detection - CORRECTED FLOW
class ProductionDetector {
    constructor() {
        this.backendStatus = 'unknown';
        this.backendUrl = window.HEROKU_BACKEND_URL || 'https://your-app-name.herokuapp.com';
        this.detectedBlockers = [];
        this.init();
    }

    async init() {
        // STEP 1: First check backend connectivity
        await this.testBackendConnection();
        
        // STEP 2: Only check for blockers if backend is having issues
        if (this.backendStatus !== 'ready') {
            this.checkForCommonBlockers();
        }
        
        // STEP 3: Start continuous monitoring
        this.monitorBackend();
        
        setTimeout(() => this.reportProductionStatus(), 2000);
    }

    async monitorBackend() {
        let attempts = 0;
        const maxAttempts = 6;
        
        const checkBackend = async () => {
            if (attempts >= maxAttempts) return;
            
            attempts++;
            await this.testBackendConnection();
            
            // STEP 4: Only check for blockers if backend continues to fail
            if (attempts >= 2 && this.backendStatus !== 'ready') {
                this.checkForCommonBlockers(); // Re-check blockers
                this.showProductionWarnings();
            }
            
            if (this.backendStatus !== 'ready' && attempts < maxAttempts) {
                setTimeout(checkBackend, 2000);
            }
        };
        
        checkBackend();
    }

    async testBackendConnection() {
        try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 5000);
            
            const response = await fetch(`${this.backendUrl}/api/health`, {
                method: 'GET',
                mode: 'cors',
                credentials: 'omit',
                signal: controller.signal
            });
            
            clearTimeout(timeoutId);
            
            if (response.ok) {
                this.backendStatus = 'ready';
                this.hideAllWarnings(); // Hide any existing warnings when backend becomes ready
            }
        } catch (error) {
            if (error.name === 'AbortError') {
                this.backendStatus = 'warming';
            } else {
                this.backendStatus = 'connection_failed';
            }
        }
    }

    showProductionWarnings() {
        this.hideAllWarnings();
        
        // STEP 5: ONLY show blocker warning if:
        // 1. Blockers are detected AND 
        // 2. Backend has clear connection failures (not just warming)
        if (this.detectedBlockers.length > 0 && this.backendStatus === 'connection_failed') {
            this.showBlockerWarning();
        }
        // Otherwise, rely on the backend status element to show warming messages
    }

    showBlockerWarning() {
        console.log('üõ°Ô∏è Production: Showing blocker warning - confirmed blocking');
        const warning = document.createElement('div');
        warning.id = 'production-blocker-warning';
        warning.innerHTML = `
            <div style="position: fixed; top: 20px; right: 20px; background: #ff9800; color: white; padding: 15px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 10001; max-width: 400px; font-family: Arial, sans-serif;">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="font-size: 20px; margin-right: 10px;">üõ°Ô∏è</span>
                    <strong>Connection to Server blocked ‚ö†Ô∏è</strong>
                </div>
                <p style="margin: 0 0 10px 0; font-size: 14px; line-height: 1.4;">
                    Browser extensions are blocking the calculator engine.
                </p>
                <div style="font-size: 12px; margin-bottom: 10px;">
                    <strong>Quick fix:</strong>
                    <ul style="margin: 5px 0; padding-left: 15px;">
                        <li>Pause Brave Shields for this site</li>
                        <li>Disable ad blockers temporarily</li>
                        <li>Allow JavaScript from localhost:3000</li>
                    </ul>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="this.parentElement.parentElement.remove()" style="background: white; color: #ff9800; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-size: 12px;">
                        Dismiss
                    </button>
                    <button onclick="location.reload()" style="background: transparent; border: 1px solid white; color: white; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-size: 12px;">
                        Retry
                    </button>
                </div>
            </div>
        `;
        document.body.appendChild(warning);
    }

    hideAllWarnings() {
        const existing = document.getElementById('production-blocker-warning');
        if (existing) existing.remove();
    }

    // ... rest of the methods same as before
    checkForCommonBlockers() {
        // Same implementation as before
    }
    
    reportProductionStatus() {
        console.log('üè≠ Production Status:', {
            backend: this.backendStatus,
            blockers: this.detectedBlockers
        });
    }
}

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    console.log('üöÄ Initializing Production Detector - CORRECTED FLOW');
    new ProductionDetector();
});
</script>


</body>


</html>

